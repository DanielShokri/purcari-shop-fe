# Plan 03-06: Admin Migration - Orders & Users

## Objective
Migrate the Orders and Users management modules in the Admin application from Appwrite to Convex, ensuring full CRUD functionality and admin-level protection.

## Context
The Admin Dashboard and Product management have already been migrated. This plan focuses on the remaining core admin features.

## Tasks
- [ ] **Task 1: Fix Storefront Import Resolution**
  - Update `apps/storefront/tsconfig.json` to include `@convex/*` path aliases.
  - Update `apps/storefront/vite.config.ts` to include `@convex/*` path aliases.
  - Update `apps/storefront/components/home/FeaturedProducts.tsx` to use aliases.
- [ ] **Task 2: Migrate Orders Management**
  - Refactor `apps/admin/pages/Orders.tsx` to use `api.orders.listAll`.
  - Refactor `apps/admin/pages/OrderDetails.tsx` to use `api.orders.get`.
  - Implement order status update mutation in `convex/orders.ts` (if missing).
  - Update UI to handle status changes.
- [ ] **Task 3: Migrate User Management**
  - Refactor `apps/admin/pages/Users.tsx` to use `api.users.listAll`.
  - Ensure admin role checks are enforced.
- [ ] **Task 4: Final Admin Cleanup**
  - Remove remaining Appwrite dependencies from Admin app.
  - Verify all Admin routes are functional.

## Verification Criteria
- Admin can view list of all orders.
- Admin can view details of a specific order.
- Admin can change order status.
- Admin can view list of all registered users.
- No "failed to resolve import" errors in Storefront or Admin.

## Success Criteria
- Orders and Users modules fully functional using Convex.
- Admin app is completely decoupled from Appwrite.
- Storefront app imports are clean and alias-based.
