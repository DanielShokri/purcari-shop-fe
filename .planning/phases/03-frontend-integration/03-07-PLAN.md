# Plan 03-07: Admin Migration - Categories & Coupons

## Objective
Migrate the Categories and Coupons management modules in the Admin application from Appwrite to Convex, ensuring full CRUD functionality and admin-level protection.

## Context
Dashboard, Products, Orders, and Users have been migrated. This is the final major piece of the Admin UI migration.

## Tasks
- [ ] **Task 1: Migrate Category Management**
  - Refactor `apps/admin/pages/Categories.tsx` to use `api.categories.list` and associated mutations.
  - Implement missing category mutations in `convex/categories.ts` (create, update, delete).
  - Verify parent/child category relationships still work.
- [ ] **Task 2: Migrate Coupon Management**
  - Refactor `apps/admin/pages/Coupons.tsx` to use `api.coupons.listAll`.
  - Refactor `apps/admin/pages/CouponEditor.tsx` to use `api.coupons.get` and mutations.
  - Implement/Verify complex discount logic fields (percentage, fixed, free shipping).
- [ ] **Task 3: Final Dependency Audit**
  - Search for any remaining `use...Mutation` or `use...Query` from `../services/api` in Admin components.
  - Remove `apps/admin/services/api/` folder once all references are gone.
- [ ] **Task 4: Complete Appwrite Decommissioning (Admin)**
  - Remove `appwrite` from `apps/admin/package.json`.
  - Update any remaining docs or agents to emphasize Convex-only backend.

## Verification Criteria
- Admin can create, edit, and delete categories.
- Admin can manage coupon codes and validity dates.
- All forms use Chakra UI v3 patterns with Hebrew/RTL.
- Build succeeds without Appwrite SDK in Admin app.

## Success Criteria
- Categories and Coupons modules fully functional using Convex.
- Admin app is 100% decoupled from Appwrite.
- Project structure is cleaner with unified Convex backend.
