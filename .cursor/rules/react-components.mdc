---
description: React component patterns and conventions
globs:
  - "components/**/*.tsx"
  - "pages/**/*.tsx"
---

# React Component Conventions

## Component Structure Template
```typescript
import React from 'react';
import { useAppDispatch, useAppSelector } from '../store/hooks';
import { someAction } from '../store/slices/someSlice';
import { SomeIcon } from 'lucide-react';

interface ComponentNameProps {
  prop1: string;
  prop2?: number;
}

const ComponentName: React.FC<ComponentNameProps> = ({ prop1, prop2 }) => {
  // 1. Hooks
  const dispatch = useAppDispatch();
  const data = useAppSelector(selectData);
  const [localState, setLocalState] = useState<string>('');

  // 2. Event handlers
  const handleClick = (e: React.MouseEvent) => {
    e.preventDefault();
    dispatch(someAction());
  };

  // 3. Early returns (loading, error states)
  if (isLoading) return <div>טוען...</div>;

  // 4. Render
  return (
    <div className="...">
      {/* JSX */}
    </div>
  );
};

export default ComponentName;
```

## File Naming
- Components: `PascalCase.tsx` (e.g., `ProductCard.tsx`)
- Pages: `PascalCase.tsx` (e.g., `HomePage.tsx`)
- One component per file
- Export as default

## Props Interface
```typescript
// Define props interface above component
interface ProductCardProps {
  product: Product;
  onAddToCart?: () => void;
}

// Use React.FC with props type
const ProductCard: React.FC<ProductCardProps> = ({ product, onAddToCart }) => {
  // ...
};
```

## Event Handlers
```typescript
// Name pattern: handle + Action
const handleAddToCart = (e: React.MouseEvent) => {
  e.preventDefault();
  e.stopPropagation(); // When inside clickable parent
  dispatch(addToCart({ /* ... */ }));
};

// In JSX
onClick={handleAddToCart}
```

## Conditional Rendering
```typescript
// Loading states with skeleton
{isLoading ? (
  <div className="h-96 bg-gray-200 rounded-lg animate-pulse" />
) : (
  <ActualContent />
)}

// Empty states
{items.length === 0 && (
  <div className="text-center text-gray-500">
    <p>הסל שלך ריק</p>
  </div>
)}

// Conditional badges
{product.onSale && (
  <span className="bg-red-600 text-white text-xs px-2 py-1">מבצע</span>
)}
```

## Link Navigation
```typescript
import { Link } from 'react-router-dom';

// Internal links
<Link to="/products" className="...">חנות</Link>
<Link to={`/product/${product.$id}`}>צפה במוצר</Link>
```

## Icons (Lucide)
```typescript
import { ShoppingCart, Menu, X, Plus, Minus } from 'lucide-react';

// Usage with size prop
<ShoppingCart size={22} />
<Menu size={24} />
```
